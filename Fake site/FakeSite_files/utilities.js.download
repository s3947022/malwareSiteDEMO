var MSO=function(){var e=MESS.url.get("mso");""!==e&&($.cookie("MSO",e),localStorage.setItem("MSO",e));var t=function(){return $.cookie("MSO")||localStorage.getItem("MSO")||""},r=function(e){var r=document.querySelector(e);r&&(r.value=t())};return r("input[name=MSOTag]"),{get:t,setForm:r}}();function getReferrerCode(e){var t="",r=e.replace(location.origin,"").replace(/\?.*$/g,""),n={"/business/":"business_lp","/business/solutions/":"solutions_lp","/business/solutions/ransomware/":"solutions_ransomware","/business/solutions/remediation/":"solutions_remediation","/business/solutions/augment-antivirus/":"solutions_augment-antivirus","/business/solutions/replace-antivirus/":"solutions_replace-antivirus","/business/products/":"products_lp","/business/edr/":"products_ep","/business/incident-response/":"products_ir","/business/endpoint-security/":"products_mbes","/business/pricing/":"business_pricing","/pricing/business/":"business_pricing","/":"home"};return r+="/"===r.substr(-1)?"":"/",e.length&&void 0!==n[r]&&(t=n[r]),t}function addParamToLink(e,t,r){var n="&";return-1===e.indexOf("?")&&(n="?"),e+n+t+"="+encodeURI(r)}if($(document).ready((function(){$('a[href="/business/request_trial/"]').each((function(){var e=$(this).attr("href"),t=getReferrerCode(location.href);t&&$(this).attr("href",addParamToLink(e,"ref",t))}))})),"object"!=typeof MBPricing)var MBPricing=function(){var e=global_variables.site.apiHostname,t="/malwarebytes-proxy",r=function(n,i,o){$.ajax({type:"GET",url:t+"?endpoint="+encodeURIComponent(e+"/js/json/pricing/"+n+"_"+i+".json?d=2021-02-02-14-19-28--0800"),dataType:"json",statusCode:{403:function(){if("US"!==n)return r("US",i,o)},500:function(){if("US"!==n)return r("US",i,o)}}}).done(o)};return{getPricingByCountryAndSku:r,getPricingByCurrencyAndSku:function(r,n,i){$.ajax({type:"GET",url:t+"?endpoint="+encodeURIComponent(e+"/js/json/pricing/"+r+"_"+n+".json?d=2021-02-02-14-19-28--0800"),dataType:"json"}).done(i).fail((function(){}))},getPriceListFromPriceCode:function(e,t){var r,n={};for(r in void 0!==e&&void 0!==e.details&&(e=e.details),e)if(e[r].productCode===t){n=e[r];break}return n},getQtyPriceFromPriceList:function(e,t,r){var n,i;for(i in t=Number(t),e=e.prices[r]||e.prices["1Y"])if(Number(e[i].minQty)<=t&&Number(e[i].maxQty)>=t){n=Number(e[i].minQty)==Number(e[i].maxQty)?Math.round(100*e[i].price)/100:Math.round(100*e[i].price)/100*t;break}return n},getQtyUnitPrice:function(e,t){var r=Math.round(e/t*100)/100;return isNaN(r)&&(r=0),r}}}();function generateSrcParam(e){var t,r,n={site:"",ctry:"",os:"",flow:"",cust:"",cart:"VARC",promo:""},i="site-",o="_ctry-",a="_os-",s="_flow-",c="_cust-",u="_cart-",d="_promo-";for(var p in"undefined"!=typeof MESS?(n.ctry=MESS.country||"",n.os=MESS.device.name||"",null!==MESS.url.get("ref").match(/(free|trial)/i)&&(n.cust=MESS.url.get("ref"))):(n.ctry=window.country||"",window.isMac?n.os="mac":window.isiPhone||window.isiPad?n.os="ios":window.isWindows?n.os="windows":window.isAndroid?n.os="android":window.isChromeOS?n.os="chromebook":n.os="","function"==typeof getVariable&&getVariable("ref")&&null!==getVariable("ref").match(/(free|trial)/i)&&(n.cust=getVariable("ref"))),n.flow=function(){for(var e=location.pathname,t=[{match:/^\/pricing\/inapp\/embedded/,value:"PRICINGEMBEDDED"},{match:/^\/pricing\/inapp/,value:"PRICINGINAPP"},{match:/^\/pricing/,value:"PRICEPG"},{match:/^\/promotions/,value:"PROMOTIONS"},{match:/^\/lp\/sem/,value:"SEM"},{match:/^\/renewal/,value:"RENEWALS"},{match:/^\/(mwb|mac)-download/,value:"DOWNLOAD"},{match:/^\/business\/teams\/download\/thank-you/,value:"DOWNLOAD"},{match:/^\/for-home/,value:"CONSUMERPG"},{match:/^\/(vpn|mac|premium|ios|android|business\/teams)/,value:"PRODPG"},{match:/^\/bundles/,value:"BUNDLEPG"},{match:/^\/business\/solutions\/small-business$/,value:"SOLPG"}],r=0;r<t.length;r++)if(e.search(t[r].match)>=0)return t[r].value;return""}(),n.site=(t=location.hostname.match(/www.malwarebytes.com/)?"WWW":"",2==(r=location.pathname.replace(/^\/|\/$/,"").split("/")[0].toUpperCase()).length&&"LP"!=r&&(t=r),t),e)("number"==typeof e[p]||"string"==typeof e[p])&&["site","ctry","os","flow","cust","cart","promo"].indexOf(p)>=0&&(n[p]=e[p]);return[i+=n.site,o+=n.ctry.toUpperCase(),a+=n.os.toUpperCase(),s+=n.flow.toUpperCase(),c+=n.cust.toUpperCase(),u+=n.cart.toUpperCase(),d+=n.promo.toUpperCase()].join("")}if("undefined"!=typeof module&&(module.exports=MBPricing),"function"!=typeof adjustHeight)function adjustHeight(e){var t=-1,r=$(e);$(r).removeAttr("style"),$(r).each((function(){t=t>$(this).height()?t:$(this).height()})),$(r).each((function(){$(this).height(t)}))}if("function"!=typeof equalizeElmHeight)function equalizeElmHeight(e){adjustHeight(e)}if("function"!=typeof generateCartLink)function generateCartLink(e,t){return("function"==typeof t?t(e):void 0!==e&&e.hasOwnProperty("compCode")?"CB"===e.compCode?generateCleverbridgeLink(e):"MyAccount"===e.compCode?generateMyAccountLink(e):generate2CheckoutLink(e):generate2CheckoutLink(e)).replace(/&+$/,"")}function generate2CheckoutLink(e){var t="",r="",n={design:"web",reviewStep:!1,qty:1,term:1,product:"premium",productType:"consumer",qtyStr:"qty",additionalParams:{}},i={PRODS:13395654,CART:1,CARD:2,DESIGN_TYPE:2,AUTO_PREFILL:1,SHORT_FORM:1,CLEAN_CART:"all",ADDITIONAL_UC:1,ORDERSTYLE:"nLWw45SpnLs"};if(void 0!==e&&(e.hasOwnProperty("design")&&("embedded-premium"===e.design?(i.ORDERSTYLE="nLWsnpTPkLg",i.PAYPAL_FLOW="REGULAR"):"embedded"===e.design&&(i.ORDERSTYLE="nLWs45appnU",i.PAYPAL_FLOW="REGULAR")),e.hasOwnProperty("product")&&("teams"===e.product||"single"===e.product?(i.PRODS=14155777,i.ORDERSTYLE="nLWsn5WpqnM"):"sale"===e.product?i.PRODS=26900036:"number"==typeof e.product&&(i.PRODS=e.product),29097518===i.PRODS&&(i.ADDITIONAL_UC=9)),e.hasOwnProperty("productType")&&("business"===e.productType?n.qtyStr="qty_btob":"privacy"===e.productType&&(n.qtyStr="qty_vpn")),e.hasOwnProperty("reviewStep")&&!0===e.reviewStep&&(i.CARD=1,i.DESIGN_TYPE=1),e.hasOwnProperty("qty")?i["OPTIONS"+i.PRODS]=e.qty+n.qtyStr+",":i["OPTIONS"+i.PRODS]=n.qty+n.qtyStr+",",e.hasOwnProperty("term")?i["OPTIONS"+i.PRODS]+=e.term+"Y":i["OPTIONS"+i.PRODS]+=n.term+"Y",e.hasOwnProperty("src")&&(i.SRC=e.src),e.hasOwnProperty("uc")&&(i.ADDITIONAL_UC=e.uc),e.hasOwnProperty("coupon")&&e.coupon.length&&(i.COUPON=e.coupon),e.hasOwnProperty("additionalParams")))if("string"==typeof e.additionalParams)r=e.additionalParams;else if("object"==typeof e.additionalParams)for(var o in e.additionalParams)r+=o+"="+e.additionalParams[o]+"&";for(var o in i)i.hasOwnProperty(o)&&(t+=o+"="+i[o]+"&");return"https://estore.malwarebytes.com/order/checkout.php?"+t+r}function generateCleverbridgeLink(e){var t="",r="",n={qty:1,term:1,product:"premium",productLink:"purl-mb3-aff-1-w",additionalParams:{}},i={quantity:1};if(void 0!==e&&(e.hasOwnProperty("product")&&"teams"===e.product&&(n.productLink="purl-affpricing1yteam"),e.hasOwnProperty("qty")&&(i.quantity=e.qty),e.hasOwnProperty("additionalParams")))if("string"==typeof e.additionalParams)r=e.additionalParams;else if("object"==typeof e.additionalParams)for(var o in e.additionalParams)r+=o+"="+e.additionalParams[o]+"&";for(var o in i)i.hasOwnProperty(o)&&(t+=o+"="+i[o]+"&");return"https://store.malwarebytes.com/342/"+n.productLink+"?"+t+r}function generateMyAccountLink(e){var t="",r="",n=window.global_variables.site.endpoints.carts.onepay+"/business/nss/first",i=e.hasOwnProperty("maxQty")?e.maxQty:99,o=e.hasOwnProperty("fallback")?e.fallback:"/business/contact-us/"+("NCEDR-B"===s?"?ref=edrpricing":"?ref=eppricing"),a=e.hasOwnProperty("qty")?e.qty:10,s=e.hasOwnProperty("sku")?e.sku:"NCEP-B",c=e.hasOwnProperty("term")?e.term:365,u=e.hasOwnProperty("source")?e.source:MESS.url.get("cref"),d=$.cookie("mid")||"",p=e.hasOwnProperty("country")?e.country:window.global_variables.user.country||"US",l=e.hasOwnProperty("currency")?e.currency:window.global_variables.user.currency||"USD",m=e.hasOwnProperty("lang")?e.lang:window.global_variables.site.language||"en",y={"/business/license":"fastpass","/business/endpoint-protection/server-security":"ep-server-product","/business/endpoint-protection":"ep-product","/business/endpointdetectionresponse":"edr-product","/business/edr/server-security":"edr-server-product","/business/edr":"edr-product","/pricing/business":"biz-pricing","/business/pricing":"biz-pricing","/lp/sem":"sem","/business/solutions/small-business":"smb-flow"};if(""===u)for(var f in y)if(y.hasOwnProperty(f)&&location.pathname.match(f)){u=y[f];break}if(t=a<=i?n+"?language="+m+"-"+p+"&currency="+l+"&country="+p+"&qty="+a+"&sku="+s+"&term_length="+c+(u.length?"&source="+u:"")+(d.length?"&mid="+d:""):o,e.hasOwnProperty("additionalParams"))if("string"==typeof e.additionalParams)r=e.additionalParams;else if("object"==typeof e.additionalParams)for(var g in e.additionalParams)r+=g+"="+e.additionalParams[g]+"&";return r.length&&(t+=t.match(/\?/)?"&"+r:"?"+r),t}function numberToMoney(e,t,r){return r?currency(e,{formatWithSymbol:!0,symbol:t,pattern:"# !"}).format().replace(".00",""):currency(e,{formatWithSymbol:!0,symbol:t}).format().replace(".00","")}function isCartReviewCountry(e,t){return"embedded"===t?isEmbeddedCartReviewCountry(e):isWebCartReviewCountry(e)}function isWebCartReviewCountry(e){return Boolean(~["AU","BR","CA","DE","FR","IT","NL","PL","ES","GB"].indexOf(e))}function isEmbeddedCartReviewCountry(e){return Boolean(~["US"].indexOf(e))}function ProductConfig(e){var t=window.i18nWeb&&(window.i18nWeb[global_variables.site.language]||window.i18nWeb.en)||{};e=e||{},"undefined"==typeof MESS&&(MESS={});var r=this;r.name=e.name||"premium",r.countryCode=e.countryCode||MESS.country||"US",r.productSku=e.productSku||"AVN-MBHS-CON",r.productCode=e.productCode||"MBHSC-C-25OFF-2Y",r.productType=e.productType||"consumer",r.defaultQty=e.defaultQty||1,r.minQty=e.minQty||1,r.maxQty=e.maxQty||null,r.currentQty=r.defaultQty,r.term=e.term||"1Y",r.hasPromo=!1,r.totalPrice="",r.basePrice="",r.unitPrice="",r.displayTotalPrice="",r.displayUnitPrice="",r.purchaseLink="",r.ctaText=e.ctaText||t.buy_now||"BUY NOW",r.promoProductSku=e.promoProductSku||"",r.promoProductCode=e.promoProductCode||"",r.cartConfig={compCode:e.cartVendor||"2CO",design:e.cartType||"web",reviewStep:e.cartReviewStep||!1,qty:r.currentQty||1,maxQty:r.maxQty||99,productType:e.productType||"consumer",product:"",sku:e.cartSku||"",coupon:e.coupon||"",src:generateSrcParam({promo:e.cartSrcPromo||""})},void 0!==e.productId&&(r.cartConfig.product=e.productId),void 0!==e.productTerm&&(r.cartConfig.term=e.productTerm),void 0!==e.cartUC&&(r.cartConfig.uc=e.cartUC),void 0!==e.cartCoupon&&(r.cartConfig.coupon=e.cartCoupon),void 0!==e.cartAdditionalParams&&(r.cartConfig.additionalParams=e.cartAdditionalParams),r.pricing={},r.currencySymbol=MESS.currencySymbol||"",r.currencyFlipped=MESS.currencyPostionFlip||!1,r.updatePrice=function(e){r.totalPrice=MBPricing.getQtyPriceFromPriceList(r.pricing,e,r.term),r.unitPrice=MBPricing.getQtyUnitPrice(r.totalPrice,e),r.displayTotalPrice=numberToMoney(r.totalPrice,r.currencySymbol,r.currencyFlipped),r.displayUnitPrice=numberToMoney(r.unitPrice,r.currencySymbol,r.currencyFlipped)},MBPricing.getPricingByCountryAndSku(r.countryCode,r.productSku,(function(t){r.countryCode=t.country,r.cartConfig.country=r.countryCode,r.cartConfig.currency=t.currency,"US"!==MESS.country&&"US"==r.countryCode&&(r.currencySymbol="US$",r.currencyFlipped=!1),r.pricing=MBPricing.getPriceListFromPriceCode(t,r.productCode),r.basePrice=MBPricing.getQtyPriceFromPriceList(r.pricing,1,r.term),r.updatePrice(r.currentQty),r.promoProductSku.length&&r.promoProductCode.length?(r.promoPricing={},r.hasPromo=!0,r.promoTotalPrice="",r.promoUnitPrice="",MBPricing.getPricingByCountryAndSku(r.countryCode,r.promoProductSku,(function(t){r.promoPricing=MBPricing.getPriceListFromPriceCode(t,r.promoProductCode),r.cartConfig.product=r.promoPricing.productId,r.cartConfig.compCode=r.promoPricing.cartCode,r.purchaseLink=e.purchaseLink||generateCartLink(r.cartConfig)}))):(r.cartConfig.product=r.pricing.productId,r.cartConfig.compCode=r.pricing.cartCode,r.purchaseLink=e.purchaseLink||generateCartLink(r.cartConfig))})),r.updateQty=function(e){r.currentQty=e,r.cartConfig.qty=e,r.updatePrice(e),r.purchaseLink=generateCartLink(r.cartConfig)},r.updatePrice=function(e){r.totalPrice=MBPricing.getQtyPriceFromPriceList(r.pricing,e,r.term),r.unitPrice=MBPricing.getQtyUnitPrice(r.totalPrice,e),r.displayTotalPrice=numberToMoney(r.totalPrice,r.currencySymbol,r.currencyFlipped),r.displayUnitPrice=numberToMoney(r.unitPrice,r.currencySymbol,r.currencyFlipped)}}"undefined"!=typeof module&&(module.exports=generateCartLink),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e){"use strict";if(null==e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(null!=n){n=Object(n);for(var i=Object.keys(Object(n)),o=0,a=i.length;o<a;o++){var s=i[o],c=Object.getOwnPropertyDescriptor(n,s);void 0!==c&&c.enumerable&&(t[s]=n[s])}}}return t}}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.currency=t()}(this,(function(){function e(o,a){if(!(this instanceof e))return new e(o,a);a=Object.assign({},r,a);var s=Math.pow(10,a.precision);this.intValue=o=t(o,a),this.value=o/s,a.increment=a.increment||1/s,a.groups=a.useVedic?i:n,this.s=a,this.p=s}function t(t,r){var n=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],i=r.decimal,o=r.errorOnInvalid,a=Math.pow(10,r.precision),s="number"==typeof t;if(s||t instanceof e)a*=s?t:t.value;else if("string"==typeof t)o=new RegExp("[^-\\d"+i+"]","g"),i=new RegExp("\\"+i,"g"),a=(a*=t.replace(/\((.*)\)/,"-$1").replace(o,"").replace(i,"."))||0;else{if(o)throw Error("Invalid Input");a=0}return a=a.toFixed(4),n?Math.round(a):a}var r={symbol:"$",separator:",",decimal:".",formatWithSymbol:!1,errorOnInvalid:!1,precision:2,pattern:"!#",negativePattern:"-!#"},n=/(\d)(?=(\d{3})+\b)/g,i=/(\d)(?=(\d\d)+\d\b)/g;return e.prototype={add:function(r){var n=this.s,i=this.p;return e((this.intValue+t(r,n))/i,n)},subtract:function(r){var n=this.s,i=this.p;return e((this.intValue-t(r,n))/i,n)},multiply:function(t){var r=this.s;return e(this.intValue*t/Math.pow(10,r.precision),r)},divide:function(r){var n=this.s;return e(this.intValue/t(r,n,!1),n)},distribute:function(t){for(var r=this.intValue,n=this.p,i=this.s,o=[],a=Math[0<=r?"floor":"ceil"](r/t),s=Math.abs(r-a*t);0!==t;t--){var c=e(a/n,i);0<s--&&(c=0<=r?c.add(1/n):c.subtract(1/n)),o.push(c)}return o},dollars:function(){return~~this.value},cents:function(){return~~(this.intValue%this.p)},format:function(e){var t=this.s,r=t.pattern,n=t.negativePattern,i=t.formatWithSymbol,o=t.symbol,a=t.separator,s=t.decimal;t=t.groups;var c=(this+"").replace(/^-/,"").split("."),u=c[0];return c=c[1],void 0===e&&(e=i),(0<=this.value?r:n).replace("!",e?o:"").replace("#","".concat(u.replace(t,"$1"+a)).concat(c?s+c:""))},toString:function(){var e=this.s,t=e.increment;return(Math.round(this.intValue/this.p/t)*t).toFixed(e.precision)},toJSON:function(){return this.value}},e})),"undefined"!=typeof module&&(module.exports=isCartReviewCountry),"undefined"!=typeof module&&(module.exports=ProductConfig),function(){for(var e=document.getElementsByClassName("more-info"),t=0;t<e.length;t++)e[t].addEventListener("mouseover",(function(e){e.stopPropagation(),window.innerWidth>992&&r(this)})),e[t].addEventListener("mouseout",(function(e){e.stopPropagation(),window.innerWidth>992&&r(this)})),e[t].addEventListener("click",(function(e){e.stopPropagation(),window.innerWidth<=992&&r(this)}));var r=function(e){if(!n(e)){var t=e.getElementsByClassName("more-info_text")[0],r=document.getElementsByClassName("more-info--show");r.length&&r[0].classList.remove("more-info--show"),t.setAttribute("style","right: -20px; top: 25px;"),e.classList.add("more-info--show")}},n=function(e){return!!e.classList.contains("more-info--show")&&(e.classList.remove("more-info--show"),!0)};window.addEventListener("click",(function(e){var t,r,n=document.getElementsByClassName("more-info--show");if(n.length&&(t=e.target,!(r=t.classList).contains("more-info--show")&&!r.contains("more-info_text")))for(var i=0;i<n.length;i++)n[i].classList.remove("more-info--show")}))}();